# \[\e[0m\] resets the color to default color
c_reset='\[\e[0m\]'

# Bold High Intensity
BIBlack='\[\e[1;90m\]'
BIRed='\[\e[1;91m\]'
BIGreen='\[\e[1;92m\]'
BIYellow='\[\e[1;93m\]'
BIBlue='\[\e[1;94m\]'
BIPurple='\[\e[1;95m\]'
BICyan='\[\e[1;96m\]'
BIWhite='\[\e[1;97m\]'

# Normal
red='\[\e[0;31m\]'
green='\[\e[0;32m\]'
yellow='\[\e[0;33m\]'
blue='\[\e[0;34m\]'
purple='\[\e[0;35m\]'
cyan='\[\e[0;36m\]'
orange='\[\e[38;5;208m\]'
darkorange='\[\e[38;5;172m\]'
darkerorange='\[\e[38;5;130m\]'
hotpink='\[\e[38;5;201m\]'
darkgreen='\[\e[38;5;34m\]'

# Bold
red_b='\[\e[01;31m\]'
green_b='\[\e[01;32m\]'
yellow_b='\[\e[01;33m\]'
blue_b='\[\e[01;34m\]'
purple_b='\[\e[01;35m\]'
cyan_b='\[\e[01;36m\]'
orange_b='\[\e[01;38;5;208m\]'
hotpink_b='\[\e[01;38;5;201m\]'

# Background colors
On_Black='\[\e[40m\]'
bakred='\[\e[41m\]'
bakgrn='\[\e[42m\]'
bakylw='\[\e[43m\]'
bakblu='\[\e[44m\]'
bakpur='\[\e[45m\]'
bakcyn='\[\e[46m\]'
On_White='\[\e[47m\]'

connector=$green

# determines if the git branch you are on is clean or dirty
function git_prompt() {
  if ! git rev-parse --git-dir > /dev/null 2>&1; then
    return 0
  fi

  # Grab working branch name
  git_branch=$(git branch 2>/dev/null| sed -n '/^\*/s/^\* //p')

  # Clean branch
  if git diff --quiet 2> /dev/null; then
    git_color="${green}"
  fi

  # Dirty branch
  if ! git diff --quiet 2> /dev/null; then
    git_color="${red}"
  fi

  # Tracked branch
  if ! git diff --cached --quiet 2> /dev/null; then
    git_color="${yellow}"
  fi

  # Untracked files
  if test "$(num_untracked)" == 0; then
    tracker=""
  else
    tracker="+"
  fi

  echo "${c_reset}${connector}[${c_reset}${git_color}$git_branch${c_reset}${connector}]${c_reset}${darkorange}${tracker}"
}

function venv_prompt() {
  if [ -z $VIRTUAL_ENV ]; then
    base=""
  else
    base="${connector}[$(basename $VIRTUAL_ENV)]${c_reset}"
  fi

  echo $base
}

PROMPT_COMMAND='PS1="${connector}┌──[${c_reset}${blue}\u${c_reset}@${yellow}\h${c_reset}${connector}]─[${c_reset}${cyan}\W${c_reset}${connector}]${c_reset}$(git_prompt)\n${connector}└──╼[${purple}\#${c_reset}${connector}]${c_reset}$(venv_prompt)${connector}$ ${c_reset}"'
