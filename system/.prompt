# \[\e[0m\] resets the color to default color
c_reset='\[\e[0m\]'

# Bold High Intensity
BIBlack='\[\e[1;90m\]'
BIRed='\[\e[1;91m\]'
BIGreen='\[\e[1;92m\]'
BIYellow='\[\e[1;93m\]'
BIBlue='\[\e[1;94m\]'
BIPurple='\[\e[1;95m\]'
BICyan='\[\e[1;96m\]'
BIWhite='\[\e[1;97m\]'

# Normal
red='\[\e[0;31m\]'
green='\[\e[0;32m\]'
yellow='\[\e[0;33m\]'
blue='\[\e[0;34m\]'
purple='\[\e[0;35m\]'
cyan='\[\e[0;36m\]'
orange='\[\e[38;5;208m\]'
hotpink='\[\e[38;5;201m\]'

# Background colors
On_Black='\[\e[40m\]'
bakred='\[\e[41m\]'
bakgrn='\[\e[42m\]'
bakylw='\[\e[43m\]'
bakblu='\[\e[44m\]'
bakpur='\[\e[45m\]'
bakcyn='\[\e[46m\]'
On_White='\[\e[47m\]'

# determines if the git branch you are on is clean or dirty
function git_prompt() {
  if ! git rev-parse --git-dir > /dev/null 2>&1; then
    return 0
  fi

  # Grab working branch name
  git_branch=$(Git branch 2>/dev/null| sed -n '/^\*/s/^\* //p')

  # Clean branch
  if git diff --quiet 2> /dev/null; then
    git_color="${BIGreen}"
  fi

  # Dirty branch
  if ! git diff --quiet 2> /dev/null; then
    git_color="${BIRed}"
  fi

  # Tracked branch
  if ! git diff --cached --quiet 2> /dev/null; then
    git_color="${BIYellow}"
  fi

  # Untracked files
  if test "$(num_untracked)" == 0; then
    tracker=""
  else
    tracker="+"
  fi

  echo "${c_reset}${git_color}($git_branch)${c_reset}${orange}${tracker}"
}

# function get_terminal_column() {
#   exec < /dev/tty
#   local oldstty=$(stty -g)
#   stty raw -echo min 0
#   echo -en "\033[6n" > /dev/tty
#   local pos
#   IFS=';' read -r -d R -a pos
#   stty $oldstty
#   echo "$((${pos[1]} - 1))"
# }

# function configure_prompt() {
#   if [ "$(get_terminal_column)" != 0 ]; then
#     PS1="\n"
#   else
#     PS1=""
#   fi
# }

# PROMPT_COMMAND='PS1+="${BIWhite}${bakblu} \@ ${c_reset}${BIWhite}${bakpur} $PWD ${c_reset}\n$(git_prompt)${BIPurple}\$${c_reset} "'

# PROMPT_COMMAND='PS1+="${BICyan}[\t \u \W]${c_reset}$(git_prompt)\n${BICyan}$ ${c_reset}"'
# PROMPT_COMMAND="configure_prompt;$PROMPT_COMMAND"

PROMPT_COMMAND='PS1="${BICyan}[\t \u \W]${c_reset}$(git_prompt)\n${BICyan}$ ${c_reset}"'
